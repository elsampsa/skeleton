

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial - start here &mdash; Skeleton 1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="About this module" href="intro.html" />
    <link rel="prev" title="Skeleton" href="index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Skeleton
          

          
          </a>

          
            
            
              <div class="version">
                0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial - start here</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#for-the-impatient">For the impatient</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#files">Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#online-autodocumentation">Online autodocumentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#organizing-large-python-projects">Organizing large python projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code-organization">Code Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-testing">Quick testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#packaging">Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#package-testing">Package testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pypi">PyPi</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-snippets">Example snippets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="#internal-links">Internal links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">About this module</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="submodules.html">Submodule documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Skeleton</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Tutorial - start here</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tutorial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="about"></span><div class="section" id="tutorial-start-here">
<h1>Tutorial - start here<a class="headerlink" href="#tutorial-start-here" title="Permalink to this headline">¶</a></h1>
<p>Well, this module does actually nothing.</p>
<p>It’s a skeleton module that servers as a template for python3 projects:</p>
<a class="reference internal image-reference" href="_images/skull.png"><img alt="_images/skull.png" src="_images/skull.png" style="width: 10%;" /></a>
<p>Some features:</p>
<blockquote>
<div><ul class="simple">
<li>Autogenerated documentation</li>
<li>Python packaging</li>
<li>Development and production downloads from git</li>
</ul>
</div></blockquote>
<div class="section" id="for-the-impatient">
<span id="impatient"></span><h2>For the impatient<a class="headerlink" href="#for-the-impatient" title="Permalink to this headline">¶</a></h2>
<p>Set up your environment (you might have these directories already):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span>
<span class="n">mkdir</span> <span class="n">python3</span>
<span class="n">mkdir</span> <span class="n">python3_packages</span>
</pre></div>
</div>
<p>Include python3 into your PYTHONPATH (include this line into your <strong>.bashrc</strong> as well)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export PYTHONPATH=$HOME/python3
</pre></div>
</div>
<p>So, your development python packages are in <strong>~/python3_packages</strong>.  Your name is <em>Janne Jantunen</em> and you have decided to create a new package named <em>your_package_name</em>.  Proceed like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cd ~/python3_packages
git clone https://github.com/elsampsa/skeleton
mv skeleton your_package_name
cd your_package_name
./reinit.bash
./setauthor.bash &quot;Janne Jantunen&quot;
./setver.bash &quot;0.1&quot;
ln -s $PWD/your_package_name $HOME/python3
</pre></div>
</div>
<p>The last line can be substituted with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>The effect is the same - creating a link that allows python to find your package (in the latter case that link is the <em>$HOME/.local/lib/python3.x/site-packages/skeleton.egg-link</em> file)</p>
<p>Mod the documentation by editing .rst files in the “docs/” directory.  The idea is that you hide/delete this page (“tutorial.rst”) from your own module.</p>
<p>After this you can re-compile and check the documentation with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">docs</span>
<span class="o">./</span><span class="nb">compile</span><span class="o">.</span><span class="n">bash</span>
<span class="n">firefox</span> <span class="n">index</span><span class="o">.</span><span class="n">html</span>
</pre></div>
</div>
<p>If you want to push your newly minted python project into a git repo, do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">init</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="p">[</span><span class="n">your</span><span class="o">-</span><span class="n">personal</span><span class="o">-</span><span class="n">git</span><span class="o">-</span><span class="n">repository</span><span class="p">]</span><span class="o">/</span><span class="n">your_package_name</span><span class="o">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">add</span> <span class="o">*</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;initial commit&quot;</span>
<span class="n">git</span> <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>
</div>
<p>The name of your package (that is also the name of your python module) should not contain “weird characters”, i.e. “.,-” etc.</p>
<p>Git tags can be added with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">tag</span> <span class="n">v1</span><span class="o">.</span><span class="mi">2</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;cool version v1.2&quot;</span>
<span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="o">--</span><span class="n">tags</span>
</pre></div>
</div>
<p>You can also user the “git_tag.bash” script.</p>
<p>Now production users can install with pip3 certain revisions of the software (see <a class="reference internal" href="requirements.html#production"><span class="std std-ref">here</span></a>)</p>
</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>Edit the setup.py and there, the “install_requires” field.  This way, when installing your package with pip3, depencencies are automagically resolved.  Keep them up to date also in the file <em>docs/snippets/requirements.txt</em>.</p>
</div>
<div class="section" id="files">
<h2>Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<p>This page has been produced with the file “docs/tutorial.rst”.  Go ahead and open it in your editor.  Open also “index.rst”.  Edit them accordingly.  Said that, let’s take a closer look at the directory structure:</p>
<ul>
<li><p class="first">your_package_name/ : This is a “scaffold” directory :</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>README.md</td>
<td>Readme file in online markdown format (nice for github). Play around with online markdown <a class="reference external" href="https://stackedit.io/editor">here</a></td>
</tr>
<tr class="row-even"><td>LICENSE.*</td>
<td>License text (say, LICENSE.LGPL3, LICENSE.MIT, etc.)</td>
</tr>
<tr class="row-odd"><td>CHANGELOG</td>
<td>Recent changes in the code</td>
</tr>
<tr class="row-even"><td>setup.py</td>
<td>Python setup script for creating packages</td>
</tr>
<tr class="row-odd"><td>MANIFEST.in</td>
<td>used by setup.py</td>
</tr>
<tr class="row-even"><td>changestr.bash</td>
<td>Helper script to change strings in your package</td>
</tr>
<tr class="row-odd"><td>setver.bash</td>
<td>Helper script to change the version of your package</td>
</tr>
<tr class="row-even"><td>setauthor.bash</td>
<td>Helper script to change the author of the package</td>
</tr>
<tr class="row-odd"><td>reinit.bash</td>
<td>Reinitializes the package name</td>
</tr>
<tr class="row-even"><td>cleanpy.bash</td>
<td>Removes __pycache__ directories and .pyc files; Do maybe before “git add .”</td>
</tr>
<tr class="row-odd"><td>upload.bash</td>
<td>Uploads your python package into PyPi</td>
</tr>
<tr class="row-even"><td>test_upload.bash</td>
<td>Uploads your python package into PyPi test repository</td>
</tr>
<tr class="row-odd"><td>git_tag.bash</td>
<td>Pushes version information into git.  This script is modified by the setver.bash</td>
</tr>
<tr class="row-even"><td>git_rm_tag.bash</td>
<td>Removes the version information (if you made an error)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul>
<li><p class="first">your_package_name/docs/  : Documentation and autogenerated documentation lives here</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>index.html</td>
<td>Redirects to the autogenerated html [don’t touch]</td>
</tr>
<tr class="row-even"><td>index.rst</td>
<td>The main index start from here</td>
</tr>
<tr class="row-odd"><td>tutorial.rst</td>
<td>The file you are staring at the moment (or html version of it)</td>
</tr>
<tr class="row-even"><td>intro.rst</td>
<td>Introduction of the module</td>
</tr>
<tr class="row-odd"><td>requirements.rst</td>
<td>What the user needs in order to use this module</td>
</tr>
<tr class="row-even"><td>examples.rst</td>
<td>Copy-pastable examples for the api user</td>
</tr>
<tr class="row-odd"><td>submodules.rst</td>
<td>Documentation generated automatically from source code.  Just add a new entry here for each submodule, don’t touch otherwise</td>
</tr>
<tr class="row-even"><td>license.rst</td>
<td>Copyright and License</td>
</tr>
<tr class="row-odd"><td>authors.rst</td>
<td>Who is the maintainer &amp; author</td>
</tr>
<tr class="row-even"><td>compile.bash</td>
<td>Run this always after modifying your documents / source code [don’t edit]</td>
</tr>
<tr class="row-odd"><td>clean.bash</td>
<td>Clean autogenerated documentation [don’t edit]</td>
</tr>
<tr class="row-even"><td>conf.py</td>
<td>Sphinx configuration file.  <strong>edit this and try different styles</strong></td>
</tr>
<tr class="row-odd"><td>.nojekyll</td>
<td>Dummy file.  This is needed for the on-line documentation to work with GitHub [don’t touch]</td>
</tr>
<tr class="row-even"><td>snippets/</td>
<td>Example snippet source files and scripts for generating pages from them.  Edit also the file requirements.txt here.</td>
</tr>
<tr class="row-odd"><td>generated/</td>
<td>Auto-generated documents [don’t touch]</td>
</tr>
</tbody>
</table>
</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul>
<li><p class="first">your_package_name/your_package_name : This is where the actual python module lives</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>__init__.py</td>
<td>Python module initialization</td>
</tr>
<tr class="row-even"><td>greeters/</td>
<td>Submodule</td>
</tr>
<tr class="row-odd"><td>data/</td>
<td>Static data the module needs and that is included in the python package</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>The scaffolding “double-directory” your_package_name/your_package_name structure might seem inconvenient, but it is necessary for packaging.  Here is what we just did in the <a class="reference internal" href="#impatient"><span class="std std-ref">For the impatient</span></a> section:</p>
<ul class="simple">
<li>Keep “scaffolded” python modules in, say “~/python3_packages”</li>
<li>Link the python module directories to “~/python3”</li>
</ul>
<p>It’s time to start documenting!  Edit the files “docs/<a href="#id1"><span class="problematic" id="id2">*</span></a>.rst”.  Here are <a class="reference external" href="http://www.sphinx-doc.org/en/stable/rest.html">some nice tips</a> for using Sphinx and here <a class="reference external" href="http://www.sphinx-doc.org/en/stable/markup/inline.html">are some more</a></p>
<p>To create and to recreate the docs (after changing the code, etc.), do (in the “docs/” directory):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">compile</span><span class="o">.</span><span class="n">bash</span>
</pre></div>
</div>
<p>To see your documentation, launch</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">firefox</span> <span class="n">index</span><span class="o">.</span><span class="n">html</span>
</pre></div>
</div>
</div>
<div class="section" id="online-autodocumentation">
<h2>Online autodocumentation<a class="headerlink" href="#online-autodocumentation" title="Permalink to this headline">¶</a></h2>
<p><strong>Github users</strong></p>
<p>After creating the git repo, create also a site for your project like this:  Settings =&gt; GitHub pages =&gt; Source : master branch / docs folder =&gt; press Save.  Now your documentation is online in github! (don’t forget to include the “docs/” folder into git).</p>
<p><strong>Gitlab users</strong></p>
<p>Using a generic service that uses a gitlab server?  No problem.  There is a simple hack to put the autodocs online.</p>
<blockquote>
<div><ul class="simple">
<li>In gitlab, create a wiki page for your project.  Write there the words “Hello world”.  Next, clone the wiki repository (not <em>the</em> repository, just the <em>wiki repository</em>) with that button on the right that says “clone repository”.</li>
<li>Edit your projects “docs/compile.bash”.  Uncomment the options for Gitlab and set the directory of your wiki repository correctly.  Run “./compile.bash”.  Now the whole documentation tree has been copied to your wiki repo directory.</li>
<li>In the wiki repo directory, open “home.md” in an editor.  Modify it to look like this:</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">For</span> <span class="n">documentation</span>
<span class="p">[</span><span class="n">click</span> <span class="n">here</span><span class="p">](</span><span class="n">_build</span><span class="o">/</span><span class="n">html</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">html</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>You still need to use git to add and push all the files to the wiki repository online (there are instructions in “compile.bash”)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="organizing-large-python-projects">
<h2>Organizing large python projects<a class="headerlink" href="#organizing-large-python-projects" title="Permalink to this headline">¶</a></h2>
<p>Let’s say we have a python project that consists of “entities” and those consist of submodules.  Imagine a web-service of some sort with frontend, backend and some machine_learning behind them:</p>
<dl class="docutils">
<dt><strong>macro_project</strong></dt>
<dd><dl class="first last docutils">
<dt><em>rocket module</em></dt>
<dd><div class="first last line-block">
<div class="line">submodule1</div>
<div class="line">submodule2</div>
</div>
</dd>
<dt><em>bicycle module</em></dt>
<dd><div class="first last line-block">
<div class="line">submodule1</div>
<div class="line">submodule2</div>
</div>
</dd>
<dt><em>turbo module</em></dt>
<dd><div class="first last line-block">
<div class="line">submodule1</div>
<div class="line">submodule2</div>
</div>
</dd>
</dl>
</dd>
</dl>
<p>Here are some possibilities:</p>
<ol class="arabic simple">
<li>Clusterfuck</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>Keep everything in the same repository.  Avoid defining API interfaces.  Everybody can access all code.</li>
<li>We have all done this and it’s not a good idea..</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li>Each module in a separate repository</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>Each module should have a maintainer and a well-defined API interface</li>
<li>Development<ul>
<li>Keep the cloned local git repositories at ~/python3_packages (as explained above)</li>
</ul>
</li>
<li>Production<ul>
<li>You can use pip3 to install and update the packages directly from the git repository - convenient if the development/production cycle is fast</li>
<li>When installed with pip3 there is no fiddling with paths and symlinks, it just works (if you’re interested in details, pip3 installs it under “~/.local/lib”)</li>
</ul>
</li>
<li>See how this is managed in the <a class="reference internal" href="requirements.html#started"><span class="std std-ref">Getting started</span></a> section</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="code-organization">
<h2>Code Organization<a class="headerlink" href="#code-organization" title="Permalink to this headline">¶</a></h2>
<p>So, let’s get back to this tutorial.  This is a module that has a single submodule called “greeters” that is organized as follows:</p>
<dl class="docutils">
<dt>greeters</dt>
<dd><div class="first last line-block">
<div class="line">__init__.py</div>
<div class="line">base.py</div>
<div class="line">fancy.py</div>
</div>
</dd>
</dl>
<p>The idea is that “base.py” has some base class definitions that are used bu “fancy.py” to create derived classes.  __init__.py has been tweaked so that user can import with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">your_package_name.greeters</span> <span class="k">import</span> <span class="n">UberFancyHelloWorld</span>
</pre></div>
</div>
<p>instead of the cumbersome</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">your_package_name.fancy.greeters</span> <span class="k">import</span> <span class="n">UberFancyHelloWorld</span>
</pre></div>
</div>
<p>(also, the api user should not be bothered with the internal inheritance, etc.)</p>
<p>So, I suggest you open in your editor all files of the “greeters” submodule and study them a bit.</p>
</div>
<div class="section" id="quick-testing">
<h2>Quick testing<a class="headerlink" href="#quick-testing" title="Permalink to this headline">¶</a></h2>
<p>Each module file under “greeters” works also as a stand-alone test.  Go to the “greeters” directory and try (either ipython or ipython3):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ipython3</span>
<span class="o">%</span><span class="n">run</span> <span class="n">fancy</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Or just (either python or python3):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">fancy</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>This is not proper testing, though.  It’s quick’n’dirty testing during development.  Separate testing programs for systematic testing are a good idea to include in your module package.</p>
</div>
<div class="section" id="packaging">
<h2>Packaging<a class="headerlink" href="#packaging" title="Permalink to this headline">¶</a></h2>
<p>If you have done everything as instructed here, creating a distributable python package can be done as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">python3_packages</span><span class="o">/</span><span class="n">your_package_name</span>
<span class="n">python3</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">sdist</span>
</pre></div>
</div>
<p>Your distributable python package is now in directory “dist/”.  You can install it with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">dist</span><span class="o">/</span><span class="n">your_package_name</span><span class="o">-</span><span class="n">version</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
<p>The setup.py script automatically finds and includes python packages to the distribution package.  In “MANIFEST.in” we also tell it to include the complete “docs/” directory and an auxiliary file from the “greeters” submodule.  See “setup.py” for more instructions.</p>
<p>Polish your setup script with the following cycle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rm</span> <span class="n">dist</span><span class="o">/*</span>
<span class="n">python3</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">sdist</span>
<span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">--</span><span class="n">verbose</span> <span class="n">dist</span><span class="o">/</span><span class="n">your_package_name</span><span class="o">-</span><span class="n">version</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
<p>The verbose option is nice to see any problems, with say, your post-installing script defined in setup.py.  Once you have got rid of all the errors, you can be sure that it works also when people install your python package directly from git using pip3.</p>
</div>
<div class="section" id="package-testing">
<h2>Package testing<a class="headerlink" href="#package-testing" title="Permalink to this headline">¶</a></h2>
<p>When testing the pip3 installation, use virtualenv to see that you got the dependencies right.  First, create a virtualenv:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">virtualenv</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span> <span class="o">-</span><span class="n">p</span> <span class="n">python3</span> <span class="n">test</span>
</pre></div>
</div>
<p>Then let’s use that virtualenv (we also clean up PYTHONPATH) to test your production system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">test</span>
<span class="n">source</span> <span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
<span class="n">export</span> <span class="n">PYTHONPATH</span><span class="o">=</span>
<span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">git</span><span class="o">+</span><span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="p">[</span><span class="n">your</span><span class="o">-</span><span class="n">personal</span><span class="o">-</span><span class="n">git</span><span class="o">-</span><span class="n">repository</span><span class="p">]</span><span class="o">/</span><span class="n">your_package_name</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="requirements.html#started"><span class="std std-ref">here</span></a> how the end-user would be using your python module directly from git.</p>
<p>To exit from virtualenv, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">deactivate</span>
</pre></div>
</div>
</div>
<div class="section" id="pypi">
<h2>PyPi<a class="headerlink" href="#pypi" title="Permalink to this headline">¶</a></h2>
<p>By uploading your python package to PyPi (Python Package Index), end users can install it simply with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="n">packagename</span>
</pre></div>
</div>
<p>To use the python package repositories, follow these steps:</p>
<ol class="arabic simple">
<li>Create an account in <a class="reference external" href="https://pypi.org">PyPi repository</a> and in <a class="reference external" href="https://testpypi.python.org">PyPi test repository</a></li>
<li>Create file <em>$HOME/.pypirc</em> with the following contents:</li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">distutils</span><span class="p">]</span>
<span class="n">index</span><span class="o">-</span><span class="n">servers</span> <span class="o">=</span>
    <span class="n">pypi</span>
    <span class="n">test</span>

<span class="p">[</span><span class="n">pypi</span><span class="p">]</span>
<span class="n">username</span><span class="p">:</span> <span class="n">xxx</span>
<span class="n">password</span><span class="p">:</span> <span class="n">xxx</span>

<span class="p">[</span><span class="n">test</span><span class="p">]</span>
<span class="n">repository</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">test</span><span class="o">.</span><span class="n">pypi</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">legacy</span><span class="o">/</span>
<span class="n">username</span><span class="p">:</span> <span class="n">xxx</span>
<span class="n">password</span><span class="p">:</span> <span class="n">xxx</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Install twine</li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="n">twine</span>
</pre></div>
</div>
<p>Now you can use the scripts <em>test_upload.bash</em> and <em>upload.bash</em> to send your package to the python (test) repository (first, edit those scripts).</p>
<p>To install from test repository (instead of the official one), use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="o">--</span><span class="n">extra</span><span class="o">-</span><span class="n">index</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">testpypi</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pypi</span> <span class="n">packagename</span>
</pre></div>
</div>
</div>
<div class="section" id="example-snippets">
<h2>Example snippets<a class="headerlink" href="#example-snippets" title="Permalink to this headline">¶</a></h2>
<p>The following python code can be downloaded from <a class="reference download internal" href="_downloads/example1.py" download=""><code class="xref download docutils literal notranslate"><span class="pre">[here]</span></code></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">skeleton.greeters</span> <span class="k">import</span> <span class="n">FancyHelloWorld</span>
<span class="c1"># let&#39;s create an instance</span>
<span class="n">gr</span><span class="o">=</span><span class="n">FancyHelloWorld</span><span class="p">(</span><span class="n">person</span><span class="o">=</span><span class="s2">&quot;Sampsa&quot;</span><span class="p">)</span>
<span class="c1"># print the result</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gr</span><span class="p">)</span>
</pre></div>
</div>
<p>Check out directory “docs/snippets/”.  It serves as a collection for small example programs.  Open and edit “form_snippets.bash” there.  You can then run it.  Remember to recompile the documentation once you’ve run that script.</p>
</div>
<div class="section" id="miscellaneous">
<h2>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Check out in the source code, how I init and check a large number of parameters in the constructor</li>
<li>To keep your code clean and PEP8 compliant, there’s a nice tool called “autopep8”, install with:</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="n">autopep8</span>
</pre></div>
</div>
<p>Now you can fix a python file like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">autopep8</span> <span class="o">--</span><span class="n">aggressive</span> <span class="o">--</span><span class="ow">in</span><span class="o">-</span><span class="n">place</span> <span class="n">yourfile</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div>
<div class="section" id="internal-links">
<h2>Internal links<a class="headerlink" href="#internal-links" title="Permalink to this headline">¶</a></h2>
<p>Remember that reference we did up there?  Here is a <a class="reference internal" href="intro.html#intro"><span class="std std-ref">link</span></a> to it.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="intro.html" class="btn btn-neutral float-right" title="About this module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Skeleton" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017 Sampsa Riikonen.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>